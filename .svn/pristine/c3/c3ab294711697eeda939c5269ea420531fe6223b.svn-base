var passport = require('passport')
    ,LocalStrategy = require('passport-local').Strategy;

var user = {
    id: 1,
    username: 'olli'
}

passport.serializeUser(function(user, done) {
    done(null, user.id);
});

passport.deserializeUser(function(id, done) {
    done(null, user);
});

passport.use(new LocalStrategy(
    function(username, password, done) {
        console.log('check user ooooolllldddddd '+username);
        // Find the user by username. If there is no user with the given
        // username, or the password is not correct, set the user to `false` to
        // indicate failure and set a flash message. Otherwise, return the
        // authenticated `user`.

        if(username == 'olli' && password == 'garage') {
            return done(null, user);
        }
    }
));

// Make passport globally available
module.exports = passport;